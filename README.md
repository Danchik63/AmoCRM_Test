# AmoCRM Test

## Описание
Этот проект представляет собой тестовое задание для AmoCRM, включающее в себя форму для сбора данных.

## Структура проекта
- **Controllers/**: Содержит контроллеры для обработки запросов.
- **DTOs/**: Содержит объекты передачи данных.
- **Services/**: Содержит сервисы для бизнес-логики.
- **views/**: Содержит HTML и CSS для отображения формы.
- **vendor/**: Содержит зависимости, установленные через Composer.

## Методы классов

### FormController
- **showForm()**: Отображает HTML-форму, загружая файл `form.html`.
- **SendOrder()**: Обрабатывает отправку формы, получает данные, создает контакт через `FormService` и возвращает ответ в формате JSON.

### FormDTO
- **__construct(array $PostData)**: Конструктор, который инициализирует свойства объекта на основе переданных данных формы.

### FormService
- **__construct()**: Загружает переменные окружения и инициализирует токен доступа и поддомен.
- **loadEnv()**: Загружает переменные окружения из файла `.env`, выбрасывает исключение, если файл не найден.

### index.php
- **Инициализация автозагрузки**: Подключает `vendor/autoload.php` для автозагрузки классов.
- **Маршрутизация запросов**: Определяет HTTP-метод (`GET`/`POST`) и вызывает соответствующий метод `FormController`: `showForm()` для `GET` и `SendOrder()` для `POST`.
- **Обработка ошибок**: Возвращает HTTP-код `405` и сообщение при неподдерживаемом методе.

## Установка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Danchik63/AmoCRM_Test.git
   ```
2. Перейдите в директорию проекта:
   ```bash
   cd AmoCRM_Test
   ```
3. Установите зависимости:
   ```bash
   composer install
   ```

## Использование
Запустите сервер и откройте `form.html` в браузере для доступа к форме.

## Лицензия
Этот проект лицензирован под MIT License.